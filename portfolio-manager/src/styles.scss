// Custom Theming for Angular Material
@use '@angular/material' as mat;

@include mat.core();

// Primary: Indigo, Accent: Cyan
$portfolio-manager-primary: mat.define-palette(mat.$indigo-palette);
$portfolio-manager-accent:  mat.define-palette(mat.$cyan-palette, A200, A100, A400);
$portfolio-manager-warn:    mat.define-palette(mat.$red-palette);

$portfolio-manager-theme: mat.define-light-theme((
  color: (
    primary: $portfolio-manager-primary,
    accent:  $portfolio-manager-accent,
    warn:    $portfolio-manager-warn,
  ),
  typography: mat.define-typography-config(),
  density: -1  // compact tables — critical for data-heavy UI
));

$portfolio-manager-dark-theme: mat.define-dark-theme((
  color: (
    primary: $portfolio-manager-primary,
    accent:  $portfolio-manager-accent,
    warn:    $portfolio-manager-warn,
  ),
  typography: mat.define-typography-config(),
  density: -1
));

@include mat.all-component-themes($portfolio-manager-theme);

.dark-theme {
  @include mat.all-component-colors($portfolio-manager-dark-theme);
}

// ─── Financial CSS custom properties ───
:root {
  --color-positive:       #00c853;
  --color-negative:       #f44336;
  --color-neutral:        #9e9e9e;
  --color-positive-bg:    rgba(0, 200, 83, 0.08);
  --color-negative-bg:    rgba(244, 67, 54, 0.08);
  --surface-elevation-1:  rgba(0, 0, 0, 0.04);
}

// ─── Base ───
html, body { height: 100%; }
body {
  margin: 0;
  font-family: Roboto, 'Helvetica Neue', sans-serif;
  background: var(--mat-app-background-color, #fafafa);
}

// ─── Typography ───
.price-mono {
  font-family: 'Roboto Mono', monospace;
  font-variant-numeric: tabular-nums;
  font-feature-settings: 'tnum';
}

// ─── PnL color helpers ───
.pnl-positive {
  color: var(--color-positive) !important;
  font-weight: 500;
}
.pnl-negative {
  color: var(--color-negative) !important;
  font-weight: 500;
}
.pnl-neutral {
  color: var(--color-neutral) !important;
}

// ─── Table overrides ───
.mat-mdc-table {
  width: 100%;
}
.mat-mdc-header-cell {
  font-weight: 600;
  white-space: nowrap;
}
.mat-mdc-cell {
  white-space: nowrap;
}

// ─── Scrollbar styling ───
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}
::-webkit-scrollbar-track {
  background: transparent;
}
::-webkit-scrollbar-thumb {
  background: rgba(0, 0, 0, 0.2);
  border-radius: 3px;
}
.dark-theme ::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
}

// ─── Utility ───
.flex-spacer { flex: 1 1 auto; }
.full-width   { width: 100%; }
.text-right   { text-align: right; }
.text-center  { text-align: center; }
.cursor-pointer { cursor: pointer; }

// Virtual scroll container
cdk-virtual-scroll-viewport {
  width: 100%;
}

// Mat card consistent padding
.mat-mdc-card {
  border-radius: 12px !important;
}
